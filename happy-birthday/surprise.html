<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Babe!</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Merienda:wght@400;700&family=Kalam:wght@300;400;700&family=Dancing+Script:wght@400;700&family=Mali:wght@300;400;500;700&display=swap');

        body {
            font-family: 'Mali', cursive;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #ffcce6, #ffb3e6, #ff99cc, #ff80bf);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            animation: bgAnimation 15s ease infinite;
            background-size: 300% 300%;
        }

        @keyframes bgAnimation {
            0% {background-position: 0% 50%;}
            50% {background-position: 100% 50%;}
            100% {background-position: 0% 50%;}
        }

        .container {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            padding: 40px;
            max-width: 380px;
            text-align: center;
            position: relative;
            z-index: 10;
            transform: translateY(0);
            transition: transform 0.3s ease;
            animation: float 4s ease-in-out infinite;
            border: 2px solid rgba(255, 255, 255, 0.5);
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .header {
            margin-bottom: 25px;
            position: relative;
        }

        .header h2 {
            font-family: 'Dancing Script', cursive;
            color: #ff1a75;
            margin-bottom: 5px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            animation: colorChange 3s infinite;
        }

        @keyframes colorChange {
            0% { color: #E91E63; }
            25% { color: #9C27B0; }
            50% { color: #FF4081; }
            75% { color: #F06292; }
            100% { color: #E91E63; }
        }

        .header p {
            color: #ff4d94;
            font-size: 1.4em;
            margin-bottom: 20px;
            font-family: 'Mali', cursive;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .album-image {
            width: 245px;
            height: 320px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            cursor: pointer;
            object-fit: cover;
            background-color: rgba(255, 204, 230, 0.5);
            transition: transform 0.5s ease, box-shadow 0.5s ease;
            border: 4px solid white;
        }

        .album-image:hover {
            transform: scale(1.03) rotate(2deg);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3);
        }

        .password-input {
            padding: 12px;
            width: 100%;
            border: 2px solid #ffb3e6;
            border-radius: 10px;
            margin-bottom: 15px;
            text-align: center;
            transform: translateY(0);
            transition: all 0.3s;
            font-family: 'Mali', cursive;
            font-size: 1em;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }

        .password-input:focus {
            transform: translateY(-3px);
            outline: none;
            border-color: #ff66b3;
            box-shadow: 0 5px 15px rgba(255, 102, 179, 0.4);
        }

        .submit-button {
            padding: 12px 25px;
            background: linear-gradient(135deg, #ff4d94, #ff80bf);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Mali', cursive;
            font-size: 1.1em;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .submit-button:hover {
            background: linear-gradient(135deg, #ff1a75, #ff4d94);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .submit-button:active {
            transform: translateY(1px);
        }

        .message-section {
            margin-top: 25px;
            color: #ff1a75;
            font-size: 1.3em;
            font-weight: bold;
            min-height: 40px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            padding: 5px;
            border-radius: 10px;
            transition: all 0.5s;
        }

        .balloon {
            position: fixed;
            width: 120px;
            height: 145px;
            z-index: 1;
        }

        .balloon::before {
            content: "";
            width: 20px;
            height: 30px;
            background: rgba(88, 88, 88, 0.7);
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%) rotate(5deg);
            border-radius: 0 0 5px 5px;
        }

        .balloon-inner {
            width: 100%;
            height: 100%;
            border-radius: 80% 80% 80% 80%;
            position: relative;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            opacity: 0.7;
            animation: confettiFall linear forwards;
        }

        @keyframes confettiFall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 0.7;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Banner decoration */
        .banner-container {
            position: absolute;
            top: -35px;
            left: 0;
            right: 0;
            text-align: center;
            pointer-events: none;
        }

        .birthday-banner {
            display: inline-block;
            padding: 8px 30px;
            background: linear-gradient(135deg, #FF9800, #ff4d94);
            color: white;
            border-radius: 30px;
            font-weight: bold;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
            transform: rotate(-5deg);
            font-family: 'Mali', cursive;
            font-size: 1.1em;
            letter-spacing: 1px;
            animation: swing 3s ease-in-out infinite;
        }

        @keyframes swing {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        /* Cake icon */
        .cake-icon {
            font-size: 28px;
            margin: 0 5px;
            animation: bounce 2s infinite;
            display: inline-block;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ */
        .flower {
            position: absolute;
            font-size: 20px;
            animation: floatFlower 5s ease-in-out infinite;
            z-index: 1;
        }
        
        @keyframes floatFlower {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(10deg); }
        }
        
        /* ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏£‡∏¥‡∏ö‡∏ö‡∏¥‡πâ‡∏ô */
        .ribbon {
            position: absolute;
            width: 40px;
            height: 60px;
            background-color: #ff4d94;
            transform: skew(-20deg);
            z-index: -1;
            opacity: 0.7;
        }
        
        /* ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å */
        .gifts-section {
            margin-top: 15px;
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        
        .gift {
            font-size: 24px;
            animation: wiggle 2s ease-in-out infinite;
            cursor: pointer;
        }
        
        @keyframes wiggle {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }
        
        /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏£‡∏≠‡∏ö‡∏£‡∏π‡∏õ‡∏™‡∏ß‡∏¢‡πÜ */
        .frame {
            position: absolute;
            width: 275px;
            height: 350px;
            border: 8px solid #ffcce6;
            border-radius: 20px;
            top: 110px;
            left: 50%;
            transform: translateX(-50%);
            z-index: -1;
            box-shadow: 0 0 20px rgba(255, 102, 179, 0.3);
        }
        
        /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô‡∏ö‡∏ô‡πÄ‡∏Ñ‡πâ‡∏Å */
        .candle-container {
            position: absolute;
            top: -15px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 5px;
        }
        
        .candle {
            font-size: 16px;
            animation: flicker 1s ease-in-out infinite;
        }
        
        @keyframes flicker {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
        }
    </style>
</head>
<body>
    <canvas id="fireworksCanvas"></canvas>
    <canvas id="confettiCanvas"></canvas>

    <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö -->
    <div class="flower" style="top: 10%; left: 15%;">üå∏</div>
    <div class="flower" style="top: 15%; left: 85%;">üå∫</div>
    <div class="flower" style="top: 80%; left: 10%;">üå∑</div>
    <div class="flower" style="top: 75%; left: 90%;">üåπ</div>
    <div class="flower" style="top: 40%; left: 5%;">üåº</div>
    <div class="flower" style="top: 30%; left: 95%;">üåª</div>

    <div class="container">
        <div class="banner-container">
            <div class="birthday-banner">Special Day!</div>
        </div>
        
        <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô‡∏ö‡∏ô‡πÄ‡∏Ñ‡πâ‡∏Å -->
        <div class="candle-container">
            <div class="candle">üïØÔ∏è</div>
            <div class="candle" style="animation-delay: 0.3s;">üïØÔ∏è</div>
            <div class="candle" style="animation-delay: 0.6s;">üïØÔ∏è</div>
        </div>
        
        <div class="header">
            <h2>Happy Birthday</h2>
            <p><span class="cake-icon">üéÇ</span> Babe <span class="cake-icon">üéÅ</span></p>
        </div>
        
        <!-- ‡∏Å‡∏£‡∏≠‡∏ö‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° -->
        <div class="frame"></div>
        
        <img src="imgs/babe/babe1.jpg" alt="Album" class="album-image" id="albumImage">
        
        <input type="password" id="password" class="password-input" placeholder="Enter Password" autocomplete="off">
        <button class="submit-button" onclick="checkPassword()">Unlock Surprise</button>
        
        <div class="message-section" id="messageSection"></div>
        
        <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç -->
        <div class="gifts-section">
            <div class="gift" title="‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡πÅ‡∏£‡∏Å">üéÅ</div>
            <div class="gift" title="‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á">üéÄ</div>
            <div class="gift" title="‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°">üíù</div>
        </div>
    </div>

    <script>
        // Initialize balloons
        function createBalloons() {
            const colors = ['#ff80bf', '#ff66a3', '#ff99cc', '#ff4d94', '#ff1a75', '#cc0052'];
            const count = 8;
            
            for (let i = 0; i < count; i++) {
                const balloon = document.createElement('div');
                balloon.className = 'balloon';
                
                const balloonInner = document.createElement('div');
                balloonInner.className = 'balloon-inner';
                
                const color = colors[Math.floor(Math.random() * colors.length)];
                balloonInner.style.background = color;
                balloonInner.style.boxShadow = `inset -5px -5px 15px rgba(0,0,0,0.1), 10px 10px 15px rgba(0,0,0,0.05)`;
                
                balloon.appendChild(balloonInner);
                document.body.appendChild(balloon);
                
                // Position balloons randomly on the sides
                const side = i % 4;
                const x = side < 2 ? Math.random() * 15 + 2 : Math.random() * 15 + 83; // Left or right
                const y = Math.random() * 70 + 5; // Top position
                
                balloon.style.left = `${x}vw`;
                balloon.style.top = `${y}vh`;
                
                // Add some float animation
                const duration = 10 + Math.random() * 15;
                const delay = Math.random() * 5;
                
                balloon.style.animation = `float ${duration}s ease-in-out ${delay}s infinite`;
                balloon.style.animationDirection = i % 2 === 0 ? 'alternate' : 'alternate-reverse';
            }
        }
        
        // Start confetti animation
        function startConfetti() {
            const canvas = document.getElementById('confettiCanvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const confettiCount = 150;
            const confettiColors = ['#ff80bf', '#ff66a3', '#ff99cc', '#ff4d94', '#ff1a75', '#cc0052', '#ffcce6', '#ff99cc'];
            const confettiShapes = ['square', 'circle', 'triangle', 'line', 'heart'];
            
            let confetti = [];
            
            for (let i = 0; i < confettiCount; i++) {
                confetti.push({
                    x: Math.random() * canvas.width,
                    y: -30 - Math.random() * canvas.height/2,
                    color: confettiColors[Math.floor(Math.random() * confettiColors.length)],
                    shape: confettiShapes[Math.floor(Math.random() * confettiShapes.length)],
                    size: Math.random() * 10 + 5,
                    speedX: Math.random() * 3 - 1.5,
                    speedY: Math.random() * 5 + 3,
                    rotation: Math.random() * 360,
                    rotationSpeed: Math.random() * 10 - 5
                });
            }
            
            function drawConfetti() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                confetti.forEach(conf => {
                    ctx.save();
                    ctx.translate(conf.x, conf.y);
                    ctx.rotate(conf.rotation * Math.PI / 180);
                    ctx.fillStyle = conf.color;
                    
                    switch(conf.shape) {
                        case 'square':
                            ctx.fillRect(-conf.size/2, -conf.size/2, conf.size, conf.size);
                            break;
                        case 'circle':
                            ctx.beginPath();
                            ctx.arc(0, 0, conf.size/2, 0, Math.PI * 2);
                            ctx.fill();
                            break;
                        case 'triangle':
                            ctx.beginPath();
                            ctx.moveTo(0, -conf.size/2);
                            ctx.lineTo(conf.size/2, conf.size/2);
                            ctx.lineTo(-conf.size/2, conf.size/2);
                            ctx.closePath();
                            ctx.fill();
                            break;
                        case 'line':
                            ctx.beginPath();
                            ctx.moveTo(0, -conf.size/2);
                            ctx.lineTo(0, conf.size/2);
                            ctx.lineWidth = 2;
                            ctx.strokeStyle = conf.color;
                            ctx.stroke();
                            break;
                        case 'heart':
                            const d = conf.size;
                            ctx.beginPath();
                            ctx.moveTo(0, d/4);
                            ctx.bezierCurveTo(d/4, 0, d, 0, d, d/4);
                            ctx.bezierCurveTo(d, d/2, d/2, d, 0, d);
                            ctx.bezierCurveTo(-d/2, d, -d, d/2, -d, d/4);
                            ctx.bezierCurveTo(-d, 0, -d/4, 0, 0, d/4);
                            ctx.fill();
                            break;
                    }
                    
                    ctx.restore();
                    
                    conf.x += conf.speedX;
                    conf.y += conf.speedY;
                    conf.rotation += conf.rotationSpeed;
                    
                    // Reset confetti that goes off screen
                    if (conf.y > canvas.height + 30) {
                        conf.y = -30;
                        conf.y = -30;
                        conf.x = Math.random() * canvas.width;
                    }
                });
                
                requestAnimationFrame(drawConfetti);
            }
            
            drawConfetti();
        }

        function checkPassword() {
            const password = document.getElementById("password").value;
            const messageSection = document.getElementById("messageSection");
            const correctPassword = "12032002"; // Change this to your birthday date (DDMMYYYY)

            if (password === correctPassword) {
                messageSection.innerHTML = "<span style='color:#E91E63;'>üéÇ ‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î Babe! üéÇ</span>";
                messageSection.style.fontSize = "1.5em";
                messageSection.style.animation = "pulse 1s infinite";
                startFireworks();
                startConfetti();
                rotateImages();
                
                // Show success animation
                document.querySelector('.container').style.boxShadow = "0 0 30px rgba(233, 30, 99, 0.6)";
                
                setTimeout(() => {
                    window.location.href = "nextsurprise.html";
                }, 5000);
            } else {
                messageSection.innerHTML = "‚ùå ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î!";
                messageSection.style.color = "#F44336";
                
                // Show wrong password animation
                const input = document.getElementById("password");
                input.style.borderColor = "#F44336";
                input.style.animation = "shake 0.5s";
                
                setTimeout(() => {
                    input.style.animation = "";
                }, 500);
            }
        }

        // Rotate through multiple images
        let currentImageIndex = 1;
        const totalImages = 3; // Assume you have 3 images named babe1.jpg, babe2.jpg, babe3.jpg

        function rotateImages() {
            setInterval(() => {
                currentImageIndex = (currentImageIndex % totalImages) + 1;
                document.getElementById("albumImage").style.opacity = 0;
                
                setTimeout(() => {
                    document.getElementById("albumImage").src = `imgs/babe/babe${currentImageIndex}.jpg`;
                    document.getElementById("albumImage").style.opacity = 1;
                }, 500);
            }, 3000);
        }

        function startFireworks() {
            const canvas = document.getElementById("fireworksCanvas");
            const ctx = canvas.getContext("2d");
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            let fireworks = [];
            let particles = [];
            const colors = ["#ff80bf", "#ff66a3", "#ff99cc", "#ff4d94", "#ff1a75", "#cc0052", "#ffcce6", "#ff99cc"];

            // Rocket class
            class Rocket {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = canvas.height;
                    this.targetX = this.x + Math.random() * 200 - 100;
                    this.targetY = Math.random() * canvas.height * 0.6;
                    this.speed = Math.random() * 2 + 3;
                    this.angle = Math.atan2(this.targetY - this.y, this.targetX - this.x);
                    this.color = colors[Math.floor(Math.random() * colors.length)];
                    this.trail = [];
                    this.smokeParticles = [];
                    this.size = 3;
                }

                update() {
                    // Record trail position
                    if (Math.random() > 0.3) {
                        this.trail.push({
                            x: this.x,
                            y: this.y,
                            size: this.size,
                            opacity: 1
                        });
                    }

                    // Update trail
                    for (let i = 0; i < this.trail.length; i++) {
                        this.trail[i].opacity -= 0.05;
                        if (this.trail[i].opacity <= 0) {
                            this.trail.splice(i, 1);
                            i--;
                        }
                    }

                    // Create smoke particles
                    if (Math.random() > 0.7) {
                        this.smokeParticles.push({
                            x: this.x,
                            y: this.y,
                            size: Math.random() * 3 + 1,
                            speedX: Math.random() * 1 - 0.5,
                            speedY: Math.random() * 1 - 0.5,
                            opacity: 0.7
                        });
                    }

                    // Update smoke particles
                    for (let i = 0; i < this.smokeParticles.length; i++) {
                        let p = this.smokeParticles[i];
                        p.x += p.speedX;
                        p.y += p.speedY;
                        p.opacity -= 0.02;
                        if (p.opacity <= 0) {
                            this.smokeParticles.splice(i, 1);
                            i--;
                        }
                    }

                    // Move rocket
                    this.x += Math.cos(this.angle) * this.speed;
                    this.y += Math.sin(this.angle) * this.speed;

                    // Check if reached target
                    const dx = this.targetX - this.x;
                    const dy = this.targetY - this.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    return distance < 15;
                }

                draw() {
                    // Draw trail
                    for (let i = 0; i < this.trail.length; i++) {
                        const t = this.trail[i];
                        ctx.beginPath();
                        ctx.arc(t.x, t.y, t.size, 0, Math.PI * 2);
                        ctx.fillStyle = `rgba(255, 220, 180, ${t.opacity})`;
                        ctx.fill();
                    }

                    // Draw smoke
                    for (let i = 0; i < this.smokeParticles.length; i++) {
                        const p = this.smokeParticles[i];
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                        ctx.fillStyle = `rgba(200, 200, 200, ${p.opacity})`;
                        ctx.fill();
                    }

                    // Draw rocket
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                }

                explode() {
                    const particleCount = 80 + Math.floor(Math.random() * 40);
                    const particleColor = this.color;
                    
                    for (let i = 0; i < particleCount; i++) {
                        particles.push(new Particle(this.x, this.y, particleColor));
                    }
                }
            }

            // Particle class
            class Particle {
                constructor(x, y, color) {
                    this.x = x;
                    this.y = y;
                    this.color = color;
                    this.originalColor = color;
                    this.size = Math.random() * 3 + 1;
                    this.speed = Math.random() * 3 + 0.5;
                    this.angle = Math.random() * Math.PI * 2;
                    this.friction = 0.98;
                    this.gravity = 0.1;
                    this.speedX = Math.cos(this.angle) * this.speed;
                    this.speedY = Math.sin(this.angle) * this.speed;
                    this.opacity = 1;
                    this.trail = [];
                }

                update() {
                    // Record trail
                    if (this.opacity > 0.3 && Math.random() > 0.5) {
                        this.trail.push({
                            x: this.x,
                            y: this.y,
                            size: this.size * 0.7,
                            opacity: this.opacity * 0.7
                        });
                    }

                    // Update trail
                    for (let i = 0; i < this.trail.length; i++) {
                        this.trail[i].opacity -= 0.05;
                        if (this.trail[i].opacity <= 0) {
                            this.trail.splice(i, 1);
                            i--;
                        }
                    }

                    // Apply physics
                    this.speedX *= this.friction;
                    this.speedY *= this.friction;
                    this.speedY += this.gravity;

                    this.x += this.speedX;
                    this.y += this.speedY;
                    
                    this.opacity -= 0.01;
                    
                    // Color transition effect
                    if (Math.random() > 0.98) {
                        this.color = colors[Math.floor(Math.random() * colors.length)];
                    } else {
                        this.color = this.originalColor;
                    }
                }

                draw() {
                    // Draw trail
                    for (let i = 0; i < this.trail.length; i++) {
                        const t = this.trail[i];
                        ctx.beginPath();
                        ctx.arc(t.x, t.y, t.size, 0, Math.PI * 2);
                        ctx.fillStyle = `rgba(${parseInt(this.color.substr(1, 2), 16)}, ${parseInt(this.color.substr(3, 2), 16)}, ${parseInt(this.color.substr(5, 2), 16)}, ${t.opacity})`;
                        ctx.fill();
                    }

                    // Draw particle
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fillStyle = `rgba(${parseInt(this.color.substr(1, 2), 16)}, ${parseInt(this.color.substr(3, 2), 16)}, ${parseInt(this.color.substr(5, 2), 16)}, ${this.opacity})`;
                    ctx.fill();
                }
            }

            function createNewRocket() {
                fireworks.push(new Rocket());
            }

            function animate() {
                ctx.fillStyle = "rgba(0, 0, 0, 0.1)";
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // Update and draw fireworks
                for (let i = 0; i < fireworks.length; i++) {
                    const firework = fireworks[i];
                    if (firework.update()) {
                        firework.explode();
                        fireworks.splice(i, 1);
                        i--;
                    }
                    firework.draw();
                }

                // Update and draw particles
                for (let i = 0; i < particles.length; i++) {
                    const particle = particles[i];
                    particle.update();
                    particle.draw();

                    if (particle.opacity <= 0) {
                        particles.splice(i, 1);
                        i--;
                    }
                }

                // Create new rockets randomly
                if (Math.random() < 0.05) {
                    createNewRocket();
                }

                requestAnimationFrame(animate);
            }

            // Start the animation
            animate();
        }

        // Initialize the page
        window.onload = function() {
            createBalloons();
            startConfetti();
        };
    </script>
</body>
</html>